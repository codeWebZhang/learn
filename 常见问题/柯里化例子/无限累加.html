<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      //1.
      function sum(a, b, c, d) {
        return a + b + c + d;
      }
      function curry(fn) {
        return function sum(...args) {
          if (args.length < fn.length) {
            // 判断接受的参数是否小于函数的参数长度
            return function () {
              // 参数不够长度，再次接受传递参数
              return sum(...args, ...arguments);
            };
          }
          return fn(...args); // 不要求改变this,
        };
      }
      let curried = curry(sum);
      console.log(curried(1)(2)(3)(4)); //10
      console.log(curried(1, 2)(2, 4));

      //2.

      function curry(fn) {
        let parmas = [];
        return function sum(...args) {
          if (args.length) {
            //判断是否有参数
            parmas = [...parmas, ...args];
            return sum;
          }
          return fn(parmas);
        };
      }
      function add(arr) {
        return arr.reduce((acc, item) => {
          return acc + item;
        });
      }

      let curried1 = curry(add);
      console.log(curried1(1)(2)(3)(4)(10, 20)()); //40

      //3.
      function curry1(a) {
        function sum(b) {
          a = b ? a + b : a;
          return sum;
        }
        sum.toString = function () {
          return a;
        };
        return sum;
      }
      console.log(curry1(1)(2)(3)(10).toString()); // 注意，只能传递当个参数
    </script>
  </body>
</html>
